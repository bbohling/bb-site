


    




<!DOCTYPE HTML>

<html>
    <head>
        
            <title>Underscore Your JavaScript This Moment - Brandon Bohling</title>
        

        <meta charset="utf-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1" />
        <meta name="generator" content="Hugo 0.25.1" />
        


        
        
            
                <meta name="description" content="HTML5 UP theme, Future Imperfect with some extra goodies, ported by Julio Pescador. Powered by Hugo">
            
        

        

  <meta name="twitter:card" content="summary"/>



<meta name="twitter:text:title" content="Underscore Your JavaScript This Moment"/>
<meta name="twitter:title" content="Underscore Your JavaScript This Moment"/>
<meta name="twitter:description" content="Up until last year it had been many years since I had been a full-time developer. After a year back in the code, I still do not feel as competent as I felt in my prime. So maybe what I am about to share is common knowledge among the developer community, but just in case&hellip;
If you are developing solutions using JavaScript I highly recommend you check out two helpful libraries: Underscore and Moment."/>
<meta name="twitter:site" content="@julio_pescador"/>

        <meta property="og:title" content="Underscore Your JavaScript This Moment" />
<meta property="og:description" content="Up until last year it had been many years since I had been a full-time developer. After a year back in the code, I still do not feel as competent as I felt in my prime. So maybe what I am about to share is common knowledge among the developer community, but just in case&hellip;
If you are developing solutions using JavaScript I highly recommend you check out two helpful libraries: Underscore and Moment." />
<meta property="og:type" content="article" />
<meta property="og:url" content="http://localhost:1313/blog/2013-04-29-underscore-your-javascript-this-moment/" />



<meta property="article:published_time" content="2013-04-29T00:00:00&#43;00:00"/>
<meta property="article:modified_time" content="2013-04-29T00:00:00&#43;00:00"/>











        
<meta itemprop="name" content="Underscore Your JavaScript This Moment">
<meta itemprop="description" content="Up until last year it had been many years since I had been a full-time developer. After a year back in the code, I still do not feel as competent as I felt in my prime. So maybe what I am about to share is common knowledge among the developer community, but just in case&hellip;
If you are developing solutions using JavaScript I highly recommend you check out two helpful libraries: Underscore and Moment.">


<meta itemprop="dateModified" content="2013-04-29T00:00:00&#43;00:00" />
<meta itemprop="wordCount" content="960">



<meta itemprop="keywords" content="coding,javascript," />

        

        

        
        
            
        

        
        
            <link rel="stylesheet" href="/css/google-font.css" />
            <link rel="stylesheet" href="/css/font-awesome.min.css" />
            <link rel="stylesheet" href="/css/main.css" />
            <link rel="stylesheet" href="/css/add-on.css" />
            <link rel="stylesheet" href="/css/monokai-sublime.css">
        

        

        
        
        
    </head>
    <body>

        
        <div id="wrapper">

    
<header id="header">
    
        <h2><a href="/">Future Imperfect</i></a></h2>
    

    <nav class="links">
        <ul>
            
                <li>
                    <a href="/blog">
                        
                            <i class="fa fa-newspaper-o">&nbsp;</i>Blog
                    </a>
                </li>
            
                <li>
                    <a href="/categories">
                        Categories
                    </a>
                </li>
            
                <li>
                    <a href="/about">
                        About
                    </a>
                </li>
            
        </ul>
    </nav>
    <nav class="main">
        <ul>
            
            <li class="search">
                <a class="fa-search" href="#search">Search</a>
                <form id="search" method="get" action="//google.com/search">
                    <input type="text" name="q" placeholder="Search" />
                    <input type="hidden" name="q" value="site:http://localhost:1313/">
                </form>
            </li>
            <li class="menu">
                <a class="fa-bars" href="#menu">Menu</a>
            </li>
        </ul>
    </nav>
</header>


<section id="menu">

    
        <section>
            <form class="search" method="get" action="//google.com/search">
                <input type="text" name="q" placeholder="Search" />
                <input type="hidden" name="q" value="site:http://localhost:1313/">
            </form>
        </section>

    
        <section>
            <ul class="links">
                
                    <li>
                        <a href="/blog">
                            <h3>
                                
                                    <i class="fa fa-newspaper-o">&nbsp;</i>
                                
                                Blog
                            </h3>
                        </a>
                    </li>
                
                    <li>
                        <a href="/categories">
                            <h3>
                                
                                Categories
                            </h3>
                        </a>
                    </li>
                
                    <li>
                        <a href="/about">
                            <h3>
                                
                                About
                            </h3>
                        </a>
                    </li>
                
            </ul>
        </section>

    
        <section>
            <ul class="links">
                <header>
                    <h3>Recent Posts</h3>
                </header>
                
                    
                

                
            </ul>
        </section>

    
        
</section>

    
    <div id="main">
        <article class="post">
            
            <header>
    <div class="title">
        
            <h1><a href="http://localhost:1313/blog/2013-04-29-underscore-your-javascript-this-moment/">Underscore Your JavaScript This Moment</a></h1>
            
        
        
    </div>
</header>

            <div id="content">
                

<p>Up until last year it had been many years since I had been a full-time developer. After a year back in the code, I still do not feel as competent as I felt in my prime. So maybe what I am about to share is common knowledge among the developer community, but just in case&hellip;</p>

<p>If you are developing solutions using JavaScript I highly recommend you check out two helpful libraries: <a href="http://underscorejs.org/">Underscore</a> and <a href="http://momentjs.com/">Moment</a>.</p>

<p>Shamelessly copied from the underscore website:</p>

<blockquote>
<p>Underscore provides 80-odd functions that support both the usual functional suspects: map, select, invoke â€” as well as more specialized helpers: function binding, javascript templating, deep equality testing, and so on. It delegates to built-in functions, if present, so modern browsers will use the native implementations of forEach, map, reduce, filter, every, some and indexOf.</p>
</blockquote>

<p>and moment:</p>

<blockquote>
<p>A 5.5kb javascript date library for parsing, validating, manipulating, and formatting dates.</p>
</blockquote>

<p>So two libraries to make a developer&rsquo;s life easier&hellip;perfect. Let&rsquo;s look at a few examples to show off their awesomeness. Keep in mind, I purposely selected more basic features just to introduce the libraries. If there is enough interest I can cover more advanced usage scenarios in the future.</p>

<h2 id="moment">Moment</h2>

<p>For the example we will use the following sample JSON response:</p>

<pre><code>var jsonSample = {
  &quot;Vacation&quot;: {
    &quot;StartDate&quot;: &quot;/Date(1366182000000)/&quot;,
        &quot;EndDate&quot;: &quot;/Date(1368169200000)/&quot;,
        &quot;Trips&quot;: [{
        &quot;Name&quot;: &quot;Fun in the Sun&quot;,
            &quot;Origin&quot;: {
            &quot;Location&quot;: &quot;Iowa City, IA&quot;,
                &quot;Date&quot;: &quot;/Date(1367046000000)/&quot;,
                &quot;DateFormatted&quot;: &quot;Saturday, April 27th 2013&quot;
        },
            &quot;Destination&quot;: {
            &quot;Location&quot;: &quot;Phoenix, AZ&quot;,
                &quot;Date&quot;: &quot;/Date(1367218800000)/&quot;,
                &quot;DateFormatted&quot;: &quot;Monday, April 29th 2013&quot;
        }
    }, {
        &quot;Name&quot;: &quot;Family Time&quot;,
            &quot;Origin&quot;: {
            &quot;Location&quot;: &quot;Portland, OR&quot;,
                &quot;Date&quot;: &quot;/Date(1366182000000/&quot;,
                &quot;DateFormatted&quot;: &quot;Wednesday, April 17th 2013&quot;
        },
            &quot;Destination&quot;: {
            &quot;Location&quot;: &quot;Iowa City, IA&quot;,
                &quot;Date&quot;: &quot;/Date(1366527600000)/&quot;,
                &quot;DateFormatted&quot;: &quot;Sunday, April 21st 2013&quot;
        }
    }, {
        &quot;Name&quot;: &quot;Return Home&quot;,
            &quot;Origin&quot;: {
            &quot;Location&quot;: &quot;Phoenix, AZ&quot;,
                &quot;Date&quot;: &quot;/Date(1367910000000)/&quot;,
                &quot;DateFormatted&quot;: &quot;Tuesday, May 7th 2013&quot;
        },
            &quot;Destination&quot;: {
            &quot;Location&quot;: &quot;Portland, OR&quot;,
                &quot;Date&quot;: &quot;/Date(1368169200000)/&quot;,
                &quot;DateFormatted&quot;: &quot;Friday, May 10th 2013&quot;
        }
    }]
  }
};
</code></pre>

<p>Nothing too elaborate, but hopefully should be familiar if you have worked with JSON before. If you are new to JSON, check out <a href="http://www.youtube.com/watch?v=9xXr2EZfDPQ">this video</a>.</p>

<p>First, let&rsquo;s address the unfriendly dates that we are sometimes served. Moment makes it a snap:</p>

<pre><code>var dt = moment('/Date(1366182000000)/');
var humanReadableDate dt.format('dddd, MMMM Do YYYY, h:mm:ss a');
</code></pre>

<p>Creating a moment object is simple as the first line shows. A moment can be created from any string that can be parsed by <code>Date.parse</code>. Then, like many modern languages, formatting is as straightforward as following a certain syntax.</p>

<p>If you are comfortable with how this works, then you can actually perform this as a 1-liner:</p>

<pre><code>var humanReadableDate = moment('/Date(1366182000000)/').format('dddd, MMMM Do YYYY, h:mm:ss a');
</code></pre>

<p>To some I am sure this simple example does not impress, but <a href="http://momentjs.com/docs/">look at the docs</a> for yourself. I doubt you will come across a scenario where Moment will not make your life easier when dealing with date and time.</p>

<p>To see this in action yourself: <a href="http://jsfiddle.net/bbohling/8vDQS/">http://jsfiddle.net/bbohling/8vDQS/</a>.</p>

<h2 id="underscore">Underscore</h2>

<p>Underscore is not always necessary to complete a task, but it has almost always reduced my code by at least 30%. In addition, it makes the code much more maintainable in my opinion. Let&rsquo;s take a look at a few examples of what we can do with underscore.</p>

<h3 id="sort-organize-your-lists">Sort: Organize Your Lists</h3>

<p>In our <code>jsonSample</code> above the data is not sorted by date which could be an issue. With underscore, this is easily addressed:</p>

<pre><code>var sortedTrips = _.sortBy(jsonSample().Vacation.Trips, function (trip) {
   return moment(trip.Origin.Date);
});
</code></pre>

<p>First we pass in our list <code>jsonSample().Vacation.Trips</code> and then  our iterator. In this case, it means that our trips will be sorted in ascending order by each trip&rsquo;s origin date (we use moment to ensure a standard date is used).</p>

<p>Note: <code>jsonSample</code> has parenetheses because in the <a href="http://jsfiddle.net/bbohling/8vDQS/">jsFiddle</a> I created for this tutorial I am using <a href="http://knockoutjs.com/">Knockout</a>, which is another fantastic JavaScript library I highly recommend.</p>

<h3 id="some-is-there-any-truth-in-your-list">Some: Is there any truth in your list?</h3>

<p>Let&rsquo;s say we want to know if a user is going somewhere specific. We can create a function that takes a destination and will return true/false based on if the trip is located in the <code>jsonSample</code>. This can be implemented using underscore&rsquo;s <code>some</code> function which again takes a list and iterator.</p>

<pre><code>tripTo = function (destination) {
   return _.some(jsonSample().Vacation.Trips, function (trip) {
      return trip.Destination.Location == destination;
   });
};  
</code></pre>

<p>Here we have a function called <code>tripTo</code> that has a destination parameter, which will be used in the <code>some</code> function. Similar to <code>sortedTrips</code> above we will pass our Trip list and our iterator that checks to see if the trip (destination) location is the same as the destination that was provided. As soon as one of the destination locations equals the destination argument, the function will stop traversing the trip list and <code>tripTo</code> will return true. Of course, if the destination argument does not match any of the trip locations <code>tripTo</code> will return false.</p>

<p>See the <a href="http://jsfiddle.net/bbohling/8vDQS/">example in action</a>.</p>

<h3 id="each-traversing-your-lists">Each: Traversing Your Lists</h3>

<p>In this final example, let&rsquo;s add a property to <code>jsonSample</code>. Instead of always converting the date whenever a view needs to display it, let&rsquo;s convert it up front. Underscore makes this a snap with the <code>each</code> function.</p>

<pre><code>newJson = function (json) {
   _.each(jsonSample().Vacation.Trips, function (trip) {
      trip.Origin.DateFormatted = standardDate(trip.Origin.Date);
      trip.Destination.DateFormatted = standardDate(trip.Destination.Date);
   });
   return json;
};
</code></pre>

<p>I&rsquo;m guessing those comfortable in JavaScript can easily guess what&rsquo;s going on here. Thanks to the flexibility of JavaScript in our iterator we are simply adding a <code>DateFormatted</code> property to <code>trip.Origin</code> and <code>trip.Destination</code>. You can see what the updated <code>jsonSample</code> looks like when it has been sent through our <code>newJson</code> function by checking out the <a href="http://jsfiddle.net/bbohling/8vDQS/">jsFiddle</a>.</p>

<h2 id="wrap-up">Wrap-up</h2>

<p>Again, these examples are basic, but hopefully intriguing enough to check out <a href="http://underscorejs.org/">underscore</a> and <a href="http://momentjs.com/">moment</a>. It shouldn&rsquo;t take you long before these two libraries are making your life as a developer much easier.</p>

            </div>
        </article>
    </div>
    
<section id="sidebar">

    
        <section id="intro">
            
            
                
                    <a href="/" class="logo"><img src="/img/main/logo.jpg" alt="Hugo Future Imperfect" /></a>
                
            
            
                <header>
                    <h2>Hugo Future Imperfect</h2>
                    <p>Another fine responsive site template by <a href="http://html5up.net">HTML5 UP</a>. Ported by Julio Pescador with some extra goodies <i class='fa fa-hand-peace-o'></i></p>
                </header>
            
            <ul class="icons">
                
                
                    
<li><a href="//github.com/jpescador" target="_blank" title="GitHub" class="fa fa-github"></a></li>

















































<li><a href="//twitter.com/julio_pescador" target="_blank" title="Twitter" class="fa fa-twitter"></a></li>




                
            </ul>
        </section>

    
        <section id="recent-posts">
            <ul class="posts">
                <header>
                    <h3>Recent Posts</h3>
                </header>
                
                    
                

                
                    
                

                

                
            </ul>
        </section>

    
    
    
    
        <section id="categories">
            <ul class="posts">
                <header>
                    <h3><a href="/categories/">Categories</a></h3>
                </header>

                
                    
                

                
                    <li>
                        <article>
                            <header>
                                <a href="/categories/technology/">technology</a>
                                <span style="float:right;">42</span>
                            </header>
                        </article>
                    </li>
                
                    <li>
                        <article>
                            <header>
                                <a href="/categories/photography/">photography</a>
                                <span style="float:right;">18</span>
                            </header>
                        </article>
                    </li>
                
                    <li>
                        <article>
                            <header>
                                <a href="/categories/journal/">journal</a>
                                <span style="float:right;">13</span>
                            </header>
                        </article>
                    </li>
                
                    <li>
                        <article>
                            <header>
                                <a href="/categories/sustenance/">sustenance</a>
                                <span style="float:right;">6</span>
                            </header>
                        </article>
                    </li>
                
                    <li>
                        <article>
                            <header>
                                <a href="/categories/travel/">travel</a>
                                <span style="float:right;">5</span>
                            </header>
                        </article>
                    </li>
                
                    <li>
                        <article>
                            <header>
                                <a href="/categories/link/">link</a>
                                <span style="float:right;">2</span>
                            </header>
                        </article>
                    </li>
                
            </ul>
        </section>
    

    
        
        <section class="blurb">
            <h2>About</h2>
            <p>Lorem ipsum dolor sit amet, consectetur adipiscing elit. Praesent tellus lacus, auctor vehicula molestie quis, tempor quis velit. Quisque in quam ac leo efficitur vulputate. Phasellus ullamcorper aliquam sodales. Maecenas sit amet condimentum ipsum. Proin sit amet ligula elit. Mauris.</p>

            <ul class="actions">
                <li><a href="/about/" class="button">Learn More</a></li>
            </ul>
        </section>
        

    
        <section id="footer">
            <ul class="icons">
                
                
                    
<li><a href="//github.com/jpescador" target="_blank" title="GitHub" class="fa fa-github"></a></li>

















































<li><a href="//twitter.com/julio_pescador" target="_blank" title="Twitter" class="fa fa-twitter"></a></li>




                
            </ul>

            <p class="copyright">&copy; Brandon Bohling. Design: <a href="http://html5up.net" target="_blank">HTML5 UP</a>. Ported by <a href="//github.com/jpescador" target="_blank">Julio Pescador</a>. Powered by <a href="//gohugo.io" target="_blank">Hugo</a></p>
        </section>

</section>

            </div>
        <a id="back-to-top" href="#" class="fa fa-arrow-up fa-border fa-2x"></a>
        

        
        
            
        

        
        
            <script src="/js/jquery.min.js"></script>
            <script src="/js/skel.min.js"></script>
            <script src="/js/util.js"></script>
            <script src="/js/main.js"></script>
            <script src="/js/backToTop.js"></script>
            <script src="/js/highlight.pack.js"></script>
        

        

            
            <script>hljs.initHighlightingOnLoad();</script>
            
    </body>
</html>

